{"google":"","tagline":"WebFax for Asterisk ","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Webfax","body":"# Web Fax for Asterisk php script \r\n\r\n- written by recluze (http://csrdu.org/nauman) \r\n- queries, comments to: nauman@csrdu.org or recluze@gmail.com \r\n\r\n\r\nRedistribution allowed provided this notice remains visible at the top. \r\nReleased under GPLv3. \r\n\r\n\r\nInstallation instructions: \r\n    0. Make sure you have Fax for Asterisk (or Free Fax for Asterisk) installed. \r\n\t   See [http://downloads.digium.com/pub/telephony/fax/README] \r\n\t   for details on that. Also make sure you have the FAX module installed \r\n\t   in FreePBX and configured to send out faxes. You will also need a service \r\n\t   provided (ITSP) that supports T.38 faxing. \r\n\r\n    1. Extract all Web Fax files to somewhere on your web server's htdocs. If you're \r\n\t   running apache as user asterisk, you need to chown the Web Fax files. \r\n\t\r\n\t>   chown asterisk:asterisk <wwwroot>/webfax -R \r\n\t\r\n\t2. If you're running asterisk as the user 'asterisk', chown the faxnotify.php script: \r\n\t    \r\n\t>   chown asterisk:asterisk faxnotify.php \r\n\t   \r\n\t3. Make faxnotify.php executable. It will be called from the dialplan from \r\n\t   within asterisk: \r\n\t\r\n\t>   chmod +x faxnotify.php \r\n\t   \r\n\t4. Move faxnotify.php to $ASTERISDIR/bin/faxnotify.php \r\n\t\r\n\t>   mv /var/www/html/webfax/faxnotify.php /var/lib/asterisk/bin/faxnotify.php \r\n\r\n    5. Create a dialplan with [outboundfax] in extensions_additional.conf with the\r\n\t   following content: \r\n\t\r\n\t\t[outboundfax]\r\n\t\t; exten => s,1,NoOp(send a fax)\r\n\t\texten => s,1,Set(FAXOPT(filename)=${FAXFILE})\r\n\t\texten => s,n,Set(FAXOPT(ecm)=yes)\r\n\t\texten => s,n,Set(FAXOPT(headerinfo)=${FAXHEADER})\r\n\t\texten => s,n,Set(FAXOPT(localstationid)=${LOCALID})\r\n\t\texten => s,n,Set(FAXOPT(maxrate)=14400)\r\n\t\texten => s,n,Set(FAXOPT(minrate)=2400)\r\n\t\texten => s,n,SendFAX(${FAXFILE},d)\r\n\t\texten => s,n,System(${ASTVARLIBDIR}/bin/faxnotify.php INIT \"${EMAIL}\" \"${DESTINATION}\" \"${TIMESTAMP}\" \"NO_STATUS\" \"NO_PAGES\")\r\n\t\texten => h,1,NoOp(FAXOPT(ecm) : ${FAXOPT(ecm)})\r\n\t\texten => h,n,NoOp(FaxStatus : ${FAXSTATUS})\r\n\t\texten => h,n,NoOp(FaxStatusString : ${FAXSTATUSSTRING})\r\n\t\texten => h,n,NoOp(FaxError : ${FAXERROR})\r\n\t\texten => h,n,NoOp(RemoteStationID : ${REMOTESTATIONID})\r\n\t\texten => h,n,NoOp(FaxPages : ${FAXPAGES})\r\n\t\texten => h,n,NoOp(FaxBitRate : ${FAXBITRATE})\r\n\t\texten => h,n,NoOp(FaxResolution : ${FAXRESOLUTION})\r\n\t\texten => h,n,System(${ASTVARLIBDIR}/bin/faxnotify.php NOTIFY \"${EMAIL}\" \"${DESTINATION}\" \"${TIMESTAMP}\" \"${FAXSTATUSSTRING}\" \"${FAXPAGES}\")\r\n\t\t; end of outboundfax context\r\n\r\n\t(You can also use the following command to add the dialplan directly to extensions_additional.conf \r\n\t[not yet implemented] \r\n\t\r\n\t>  chmod +x insert_dialplan.sh \r\n\t>  ./insert_dialplan.sh \r\n\t\r\nUsage: \r\n\r\n    1. Point your browser to sendfaxform.html and see the magic happen. "}